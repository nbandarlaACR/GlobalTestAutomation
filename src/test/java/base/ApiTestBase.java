package base;

import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.jayway.jsonpath.JsonPath;
import io.restassured.response.Response;
import java.io.IOException;

/*
 * This class contains methods that will be executed before any api test
 *
 */
public class ApiTestBase {

   public static final String cookie = "_ga=GA1.2.1915109809.1592339744; _gcl_au=1.1.411940835.1592361035; _mkto_trk=id:598-TRA-244&token:_mch-acr.org-1592361034871-48820; _fbp=fb.1.1592361035193.922995665; ajs_user_id=%229b38754676f4af6dd3ba40dc9260b923743a95aaa1655e91cee30eabff58d944%22; ajs_anonymous_id=%22cf859b31-767a-4ff2-a05b-cc478e46fbf3%22; ajs_group_id=%22BWD1-GI3N-YQ6X-BFN8%22; amplitude_id_cf620211dc906be4ab7c92f52766759dacr.org=eyJkZXZpY2VJZCI6ImRmNWJjZWNkLTA1YzktNDI0Mi04YjY1LTc2N2Y4ZWFmNjY1YlIiLCJ1c2VySWQiOiI5YjM4NzU0Njc2ZjRhZjZkZDNiYTQwZGM5MjYwYjkyMzc0M2E5NWFhYTE2NTVlOTFjZWUzMGVhYmZmNThkOTQ0Iiwib3B0T3V0IjpmYWxzZSwic2Vzc2lvbklkIjoxNTk5NDk4NzMwMTYyLCJsYXN0RXZlbnRUaW1lIjoxNTk5NDk4NzQ2NDQwLCJldmVudElkIjo2MTUwLCJpZGVudGlmeUlkIjo3NTAxLCJzZXF1ZW5jZU51bWJlciI6MTM2NTF9; idsrv.session=r4NMdH1oEoGPWUN_LJQ9tg; .AspNetCore.Cookies=chunks-2; .AspNetCore.CookiesC1=CfDJ8KPCAnKJ3sxMslIdFRM2tOG0VC_Qbax6WDZ_R0JHGoIZ25JXCQ_lX8d9UPB00aqOnEAZBc9baiD4yDJjT68s2fhVA5xul5XZjn6NLWul7IgkMQdpnIpxy-EoLNJO6kKWV6vxccH0krVgjFq9xrPoPSvWI8C0P8YYroUmF1j_kFdjuYTZRqi_Jloi34byUCfBwMD0w9IM9FkqYlzlLrE8xmrlOavWHR0_089pGiDDG33Zeou0w8vxfkeXGngj41kqMK-HQktFaNxnsVbPfvVvBK9pfPJRTy0DyDHElBf6ho1Ctic5GDwcm9UN5QICgv0-xBMSIxwXhklMmJGYHmNQf_oiFMtfBSjL6Kj360Tond5kJ0qt3W30DegRz_EstYAZIq59XXZqMyyiqt96gv1ERTmyGLVGR4ORhSOqM3eKj00gDskAlBVMA13PchjMROLF1RPZknCSOfWkx0prHhu2NBp3HJN9Iq-R534ZZHwYxsDrDCFtrdZ_4zvwnI_CMIKtPDqmjiTI3hffUUs4Dx3dRQy2yKQ6QUE0Rdn9TYsJ28rLfhdqc7G0m1rbSvh7jM_9w6W3LCFO700lNrOB706FXotrhJR3KB50VIWGMHkeEMJyCm0EAJR36_DYTQmyFT7FWVUwAc-GR-XcEg7YVvyWieXZ6ffMSKMwb_AbWGCJ5-6Y12mMJClOpWN8ItkCPK_qWFzNLirdPlynd0fqIPSsIYyovsBRsxjom56vWqosUmfC2x_TtDo7ziPAfqdzG5aemqFsEOGg03sotwfin96KfeTlLQoI18-5savyQheJQkB99JQKdFDPnGKH3QsjDETNNq4Zm_nSdc7VrEKcJr8GEDKSLaPRDkwUDAxiS1-0KK_fE_dNgSfbV4lomzZQddeWFuEJEQzaSSXqs6Ep1r68b17xBVkrZea3SbbMeMtjIX3UQWxxyuiyjPWAFUmrALGZmor4qEBd66wbSrpuLHeY0OIovUPNFjcQO3XqNHeKnC-x-HfN3w9MDiolbUqCi5r4xtJTGTboOMBBD5pKKlXNqlEgsO0b0AqPSlQuvhAGyN52h30SohCOQxlZZLLqAeqBrJtEDJzp9WhvmbiXZGjbqqBSqic4ja-o29HvzwBr1-li-iICuPyjZRhoLA8kLuz4qsZ15JPiRGV7p5mk9IXUsXbbAtzGWh7NEOfbht0xBplHxh-t6w65_EFR2yb5a9biOe_hdUSCtqeKKfB1HiNb2iYt88HqzifkU743n6CQjERnW-65eQiz6oJODp0Z635341TnkDEwQMPuTxHmwcDPKfxrL9Xu0rtAjYczaOQ6qMPYqwRn8QpDia44TIblhlPHbcswMJ-4H5Zo1Qu80VSWZTIxuFiWRaY6ZtwHHDcWUL3xAMEdwArivprcJGTkXicV6TXrdoo3vMazJfLNzWA3RoW32FJecPOQiH8nOJk8O5F1GeX6KkhhjYM5cnUEDEMfQrOfLxsgaHi62sUtOCWjD83yPmvCxP-otsOKWECs4fFXLSmGgg_uZfHhOzv1zJLekG0Z71usExsGm6nQnYy7sDZv3tfaHrmR5hpxV5Lcy3ILDka7TKo_5yeCy8f9nCp5HB3eyMylRig3pUuDGAPmv31Jq6AbKA-cZZ3IPH-BgrWo2R2qYB6kESJ5DGkT_QOJTj7zC_GOfwCmN62vS0hG1Wnd6VWIoWtQCigGMa2DvgfUlapx6qLXyCLyiKefq9kNlnsBf744Auo9GMvqdeP6rCSwLKFFSM_7XTwECKEOnzkU9w9Hyy050TBeTrFo2VFzk2TdR4ddpt8-WcjkcoFrtHVeNNNxKR4eej0ObBDNhe80MB4-erS4C6Mz48UD_-C9Hm8CMCQRWqFV7WhhIK341SSUDz_ryX12XRJ-LVryUIw1aSPn937Dcj-OLmULv81CMQcYTu-AlP1RRtZ-eHi0uaBvHSdBX5ntngLD4I1AhyZOBc4qD7ZBl_TAvAtDJ5ozPnXLYBHx-pkX2zaEwTmPLwWMt3N28wUGTiPmRat-iVgpKPY2roVqVgfRrkINSelx3dW5ud_ZuXAm4udqGk59pAys3XQ7Bf2duSSUA0427xRu5KrTN9a1FNSteaQcWsnOsKlm8IOmYL1v5WLyjg_ScrUZGGpUOQ-R-sxqJ5F7n11gjnq-OtMiPCvG2-RkIB7uHOzXnHMP8UofX-X7VvA1zJD8JPLnNFYcx00sFYoe5po4pYfO_Fw89PIW_gTsN9w93vlYRpHZQvI3ywS6jF3I_WzT7opRUSWDbhowAJ7aIuRqKHt75xtwEh4v5qbW0AU_ThuflVaMvlo2gRBdH-aIvGpBBSLy4KwM0rcNcrRR-13upcEMLHy7l4YSxHiVS6FPSQmL4I_6mo7n6IMzoLDxiCp_ORDgZeaDm-ujpAm2ZM5Fxj67lc5oFBl-sOOUapDJaRt89LzPA5J-oakPZ3Ter55ykLK0cMBitBSXB-9Um6G8LaNuxo1_yyxcTmL6tYejbQeoPtnIx8Ovm4dYwmeE_Gynrxu9W_P6qVmteFnurCk1IZSQNwSCypQJa2SanpXrgtsmWLQ9_uASV-RnzFi1RRKaOWzgOLrJ9FVE2jdz8_9X7Lz8CLLUP2BLyLe1ilqidpboZKTdAc6E0EuOjBya38cntXRTt6bVrIHo-wFizrjwq7DUXWuy72GP3iHFYNg8Zx9R1vwa__5Rzq1K7W6MuAJdYnPhxIcpbbfr-nfFLUholl77dSNLiP281EqhsJZi0FzwGOjuD10Yfgth8ELNHFwLMQ2ofkh3Z2Ay4Zpv8VcT5KATaNzXRjXOlBboVaPsvHSOQHeYtkhwaCR5fy_7tCtl4Ox0ZieH4rZ22lJBGR1LCJC2dW1ye93-KQnLMgM6tmnsZb6ZszCrsnbrg_7Y8tEznPiju2v1fmJrHAERcfEX8-qQqzH-Zos2C-__WpGwLhZZCjK5PDs7HQiJf7ZjbbKsfhfq0HyRx8htKYUBV7EdISKtNx0FNmYtitytHq6f4_XdBu1gWps58QV0bdODmA0rwwf_mK-9zSfj0Rd4Nci2ixIt4ssBtXbYEwknGZSO48t9SeZKxdhJ3QRX3AtQ6V51twQia0u3il0cDR65tq8F3HVdZlX2aKhqWw2t9JK59pESF4qQfulh0QXS475YkcXK_uTNQNjIapDsY9hA9pejADCA43PudLn623I9Zrjoq8hNSM6JxepecUpcpKMzISC6baDw2shsw_fUzSH2y-PlZ5P6l9nh6VGhDEELjNhf1Pjyou5EqDs1efY7BOqoMqkQbykTu9uGSqi5Qj-dnbmr3IJDr7g3BgmLztPHNSAX14M-Qp4YSgwU4b2tjzZ_YxGWW-rFj1hqXhFaY7PC8mXnFgxtJpMYbWLkqIIvHGwj2C-fnZdjiGmeVAnnuSj9QdZ6IubTpGd37-dRqZwTRROAMPk0oW2hYy50WTZWiS5kUEjxxxb3LEf-GXcUi12p_1bctMszDR0LvR7YFEVVEg2-JL6dK8TjxMt0eTCs6MmT9V86v1VPUq9S0MQ99EAtNRq0JyWUm6FVNtWSlv2hiNCWeQxrGyKcMqv4WI030dRyOIpm1jBkRd-kWcuS55b2I0JJYIlXz45usHYOppXLfuU1dmuenPJKsO3KnvG2E_MqBbYFdkWQhQBbL-Ulvz1ytBgJzELvgS-gN_wi-gVWQe8jTJT9EO2IV_BisPl-RC27DzmtJBVJd_IJL-LX_3Azbrlp_5K14c8IRGd5coGnH1Oz5EimZl6A4By8DOuvxcPEkdz_NZSehTxfevbic9VpDl323KP0irHLFxgufdg-P5EUvRqSwdXMh_IsoJvXbou8i_5JzCjStPvVD6hdU1xfqrkxVWFY4aBMXtEqCrZziGu2zY6KFuFpG_lgtpwLvoflghaQe6CDsHnAvRbPsXR6L_SK7GHlCiXF5xXRXpfg1voFZeD2jszmtxUwg00YUqpH2K2MAbi-w4cqNKh; .AspNetCore.CookiesC2=lZisIP-_CRIDyyXCNM5wblTm6rk0f3kuFQXyMxTMJ9sMInhwpECL2DI8UQKcGwWaY_syOwpJ9RPjh_pdGj3FETH6ELQf5Yok0KTb07Xerqb0QPJ8AFhDOkc4VlbrObtU5Z0yWV7pyVM7dBSaPKuGw-JQX9uByf_RNE1o7YuL2bxKY5xMZ9Ze28F8zhf3ZlxmbKsF_t_k5DhpGoVap0tnXUFIwpb7EF941coGr9ZwENZCgoFqDug";

   public static void checkStatus(Response response) throws Exception {
      int statusCode = response.getStatusCode();
      if (statusCode != 200) {
         String errorMessage = "Test Failed:\n" + "Expected Status Code:\t" + statusCode;
         throw new Exception(errorMessage);
      }
   }

   public String beautify(String json) throws JsonProcessingException {
      ObjectMapper mapper = new ObjectMapper();
      Object obj = null;
      try {
         obj = mapper.readValue(json, Object.class);
      } catch (IOException e) {
         e.printStackTrace();
      }
      return mapper.writerWithDefaultPrettyPrinter().writeValueAsString(obj);
   }

   public String extractData(String responseBody, String jsonQuery) {
      return JsonPath.read(responseBody, jsonQuery);
   }

}